<!DOCTYPE html>
<html>
<head>
    <title>Ad Function</title>
    </head>
    <body>
        <script>
            //1.) 1.) Write a recursive function to print a nested folder structure.
             //Example: const folders = {
             // name: "root",
            // children: [
          // { name: "src", children: [] },
         // { name: "assets", children: [{ name: "img", children: [] }] }
           // ]
           //};
              const folders = {
                name: "root",
                children: [
                     { name: "src", children: [] },
                     { name: "assets", children: [{ name: "img", children: [] }] }
                ]
            };
            function pntFldStr(f, i = 0) {
               console.log("  ".repeat(i) + f.name);
               f.children.forEach(child => pntFldStr(child, i + 1));
           }
            pntFldStr(folders);

            //2.) Write a function that calculates the sum of all numbers in a nested array using recursion and reduce.
            // Example: Input => [1, [2, [3, 4]], 5] ; Output: 15
            const cal = [1, [2, [3, 4]], 5]
            function sumNestedArray(cal) {
                return cal.reduce((lm, rt) => {
                    if (Array.isArray(rt)) {
                        return lm + sumNestedArray(rt);
                    }
                    return lm + rt;
                }, 0);
            }
            console.log(sumNestedArray(cal)); 

            //3.) Given an array of numbers, write a function that returns the sum of even numbers using only filter and reduce. (Use High-Order-Function).

            const arr = [1, 2, 3, 4, 5, 6, 7,8, 9,10];
            function sumEvenNum(arr) {
                return arr.filter(num => num % 2 === 0).reduce((acc, curr) => acc + curr, 0);
            }
            console.log(sumEvenNum(arr)); // Output: 30

            //4.) Implement your own version of map without using Array.prototype.map. (Use High-Order-Function).
            function myMap(abc, xyz) {
                const result = [];
                myForEach(abc, function(ele, i, arr) {
                    result.push(xyz(ele, i, arr));
                });
                return result;
            }
           let double = function double(num) {
                return num * 2;
            }

            let square = function square(num) {
                return num * num;
            }
            const num = [1, 2, 3, 4, 5,30, 35, 33, 70, 45];
            const doubled = myMap(num, double);
            const squared = myMap(num, square);
            console.log("Doubled:", doubled);
            console.log("Squared:", squared);

            //5.Write a function myForEach that takes an array and a callback function and works like Array.prototype.forEach. (Callback Function â€“ Custom forEach)
            function myForEach(ml, cb) {
                for (var i = 0; i < ml.length; i++) {
                    cb(ml[i], i, ml);
                }
            }

           let aL = myForEach([1, 2, 3], function(ele, i, arr) {
                console.log("Element at index " + i + " is " + ele);
            });

            //6.) Write a curried function that allows infinite chaining and returns the sum when called with no arguments.
             function ctCrSum() {
                let sum = 0;
                function ctAdd(num) {
                    if (num === undefined) {
                        return sum;
                    }
                    sum += num;
                    return ctAdd;
                }
                return ctAdd;
            }
            const ctSum = ctCrSum();
            console.log(ctSum(1)(2)(3)());

        </script>
    </body>
    </html>
